<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√¥ ph·ªèng Quang H·ª£p & H√¥ H·∫•p</title>
    <style>
        :root {
            --primary-color: #2e7d32;
            --secondary-color: #4caf50;
            --accent-color: #ff9800;
            --light-color: #f1f8e9;
            --dark-color: #1b5e20;
            --text-color: #333;
            --card-shadow: 0 10px 20px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
            --day-bg: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            --night-bg: linear-gradient(135deg, #0d1b2a 0%, #1b263b 100%);
            --day-sky: linear-gradient(to bottom, #87CEEB 0%, #E0F7FA 40%, #C8E6C9 100%);
            --night-sky: linear-gradient(to bottom, #0f1c2e 0%, #1f3a5c 40%, #1a2b45 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: var(--day-bg);
            min-height: 100vh;
            padding: 20px;
            transition: var(--transition);
        }

        body.night-mode {
            color: #e0e0e0;
            background: var(--night-bg);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background-color: white;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
        }

        .night-mode header {
            background-color: #1e2a3a;
            color: #e0e0e0;
        }

        h1 {
            color: var(--primary-color);
            font-size: 2.5rem;
            margin-bottom: 10px;
            transition: var(--transition);
        }

        .night-mode h1 {
            color: #81c784;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #666;
            transition: var(--transition);
        }

        .night-mode .subtitle {
            color: #b0b0b0;
        }

        .mode-toggle {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            gap: 20px;
        }

        .mode-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
            background: #e0e0e0;
            color: #666;
        }

        .mode-btn.active {
            background: linear-gradient(135deg, var(--secondary-color) 0%, var(--primary-color) 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(46, 125, 50, 0.4);
        }

        .night-mode .mode-btn {
            background: #2d3748;
            color: #b0b0b0;
        }

        .night-mode .mode-btn.active {
            background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 900px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .simulation-card, .controls-card {
            background-color: white;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            padding: 25px;
            transition: var(--transition);
        }

        .night-mode .simulation-card, 
        .night-mode .controls-card {
            background-color: #1e2a3a;
            color: #e0e0e0;
        }

        .simulation-card:hover, .controls-card:hover {
            transform: translateY(-5px);
        }

        .card-title {
            color: var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light-color);
            font-size: 1.5rem;
            transition: var(--transition);
        }

        .night-mode .card-title {
            color: #81c784;
            border-bottom-color: #2d3748;
        }

        .simulation-area {
            position: relative;
            height: 400px;
            background: var(--day-sky);
            border-radius: 10px;
            overflow: hidden;
            transition: var(--transition);
        }

        .night-mode .simulation-area {
            background: var(--night-sky);
        }

        .sun, .moon {
            position: absolute;
            top: 30px;
            right: 40px;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
            font-weight: bold;
            z-index: 10;
            transition: var(--transition);
        }

        .sun {
            background: radial-gradient(circle, #FFEB3B 0%, #FFC107 70%);
            box-shadow: 0 0 30px #FF9800;
            color: #FF6F00;
        }

        .moon {
            background: radial-gradient(circle, #E0E0E0 0%, #BDBDBD 70%);
            box-shadow: 0 0 20px #9E9E9E;
            color: #757575;
            display: none;
        }

        .night-mode .sun {
            display: none;
        }

        .night-mode .moon {
            display: flex;
        }

        .plant-container {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 350px;
        }

        .pot {
            position: absolute;
            bottom: 0;
            width: 120px;
            height: 70px;
            background: linear-gradient(to right, #795548 0%, #5D4037 100%);
            border-radius: 5px 5px 20px 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 2;
        }

        .soil {
            position: absolute;
            bottom: 70px;
            width: 140px;
            height: 20px;
            background: #5D4037;
            border-radius: 10px 10px 0 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1;
        }

        .stem {
            position: absolute;
            bottom: 70px;
            width: 20px;
            height: 200px;
            background: linear-gradient(to right, #388E3C 0%, #4CAF50 100%);
            border-radius: 10px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 3;
            transition: var(--transition);
        }

        .night-mode .stem {
            background: linear-gradient(to right, #2e7d32 0%, #388E3C 100%);
        }

.leaf {
    position: absolute;
    width: 120px;
    height: 190px;
    background: linear-gradient(135deg, #4CAF50 0%, #81C784 100%);
    border-radius: 0 0 50% 50%;
    transform-origin: bottom right;
    z-index: 4;
    transition: var(--transition);
}

        .night-mode .leaf {
            background: linear-gradient(135deg, #388E3C 0%, #4CAF50 100%);
        }

        .leaf-1 {
            top: -127px;
            left: -81px;
            transform: rotate(-180deg);
        }

        .leaf-2 {
            top: 90px;
            left: 50px;
            transform: rotate(-40deg);
        }

        .leaf-3 {
            top: 60px;
            left: 60px;
            transform: rotate(-60deg);
        }

        .leaf-4 {
            top: 120px;
            right: 65px;
            transform: rotate(20deg) scaleX(-1);
        }

        .leaf-5 {
            top: 90px;
            right: 50px;
            transform: rotate(40deg) scaleX(-1);
        }

        .leaf-6 {
            top: 60px;
            right: 60px;
            transform: rotate(60deg) scaleX(-1);
        }

        .molecules-container {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .molecule {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            border-radius: 10px;
            transition: var(--transition);
            min-width: 100px;
        }

        .molecule:hover {
            transform: scale(1.05);
        }

        .molecule-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 14px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .co2 .molecule-icon {
            background: linear-gradient(135deg, #607d8b 0%, #455a64 100%);
        }

        .h2o .molecule-icon {
            background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%);
        }

        .o2 .molecule-icon {
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
        }

        .glucose .molecule-icon {
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
        }

        .atp .molecule-icon {
            background: linear-gradient(135deg, #9c27b0 0%, #7b1fa2 100%);
        }

        .molecule-count {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary-color);
            transition: var(--transition);
        }

        .night-mode .molecule-count {
            color: #81c784;
        }

        .molecule-label {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
            transition: var(--transition);
        }

        .night-mode .molecule-label {
            color: #b0b0b0;
        }

        .controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .control-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .control-label {
            font-weight: 600;
            color: var(--primary-color);
            transition: var(--transition);
        }

        .night-mode .control-label {
            color: #81c784;
        }

        .control-value {
            font-weight: bold;
            color: var(--accent-color);
            background: var(--light-color);
            padding: 3px 10px;
            border-radius: 15px;
            transition: var(--transition);
        }

        .night-mode .control-value {
            background: #2d3748;
        }

        .slider-container {
            position: relative;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            transition: var(--transition);
        }

        .night-mode .slider-container {
            background: #2d3748;
        }

        .slider-fill {
            position: absolute;
            height: 100%;
            border-radius: 15px;
            transition: var(--transition);
        }

        .light-fill {
            background: linear-gradient(to right, #FFF9C4 0%, #FFEB3B 100%);
            width: 50%;
        }

        .co2-fill {
            background: linear-gradient(to right, #B0BEC5 0%, #607d8b 100%);
            width: 50%;
        }

        .h2o-fill {
            background: linear-gradient(to right, #B3E5FC 0%, #2196f3 100%);
            width: 50%;
        }

        .temp-fill {
            background: linear-gradient(to right, #FFCCBC 0%, #FF5722 100%);
            width: 50%;
        }

        input[type="range"] {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
        }

        .primary-btn {
            background: linear-gradient(135deg, var(--secondary-color) 0%, var(--primary-color) 100%);
            color: white;
        }

        .primary-btn:hover {
            box-shadow: 0 5px 15px rgba(46, 125, 50, 0.4);
            transform: translateY(-2px);
        }

        .secondary-btn {
            background: #e0e0e0;
            color: #666;
        }

        .secondary-btn:hover {
            background: #d5d5d5;
        }

        .night-mode .secondary-btn {
            background: #2d3748;
            color: #b0b0b0;
        }

        .night-mode .secondary-btn:hover {
            background: #374151;
        }

        .info-panel {
            background-color: white;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            padding: 25px;
            margin-bottom: 30px;
            transition: var(--transition);
        }

        .night-mode .info-panel {
            background-color: #1e2a3a;
            color: #e0e0e0;
        }

        .equation {
            text-align: center;
            font-size: 1.3rem;
            padding: 20px;
            background: var(--light-color);
            border-radius: 10px;
            margin: 20px 0;
            font-weight: 600;
            color: var(--dark-color);
            transition: var(--transition);
        }

        .night-mode .equation {
            background: #2d3748;
            color: #e0e0e0;
        }

        .status {
            padding: 15px;
            background: #E3F2FD;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid #2196F3;
            transition: var(--transition);
        }

        .night-mode .status {
            background: #1e3a5c;
            border-left-color: #3b82f6;
        }

        .particles {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 28px;
            left: 18px;
            pointer-events: none;
            z-index: 5;
        }

        .particle {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            opacity: 0.8;
            z-index: 5;
        }

        .arrows {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            font-size: 2rem;
            color: var(--primary-color);
            transition: var(--transition);
        }

        .night-mode .arrows {
            color: #81c784;
        }

        .process-steps {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
            text-align: center;
        }

        .step {
            flex: 1;
            padding: 15px;
        }

        .step-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--light-color);
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 10px;
            color: var(--primary-color);
            font-size: 1.5rem;
            transition: var(--transition);
        }

        .night-mode .step-icon {
            background: #2d3748;
            color: #81c784;
        }

        .step-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--primary-color);
            transition: var(--transition);
        }

        .night-mode .step-title {
            color: #81c784;
        }


        @media (max-width: 600px) {
            .molecules-container {
                flex-wrap: wrap;
                justify-content: center;
                gap: 15px;
            }
            
            .process-steps {
                flex-direction: column;
                gap: 15px;
            }
            
            h1 {
                font-size: 2rem;
            }
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>M√¥ ph·ªèng Quang H·ª£p & H√¥ H·∫•p</h1>
            <p class="subtitle">Kh√°m ph√° qu√° tr√¨nh th·ª±c v·∫≠t chuy·ªÉn ƒë·ªïi nƒÉng l∆∞·ª£ng v√†o ban ng√†y v√† ban ƒë√™m</p>
        </header>

        <div class="mode-toggle">
            <button id="day-mode-btn" class="mode-btn active">Quang H·ª£p Ban Ng√†y</button>
            <button id="night-mode-btn" class="mode-btn">H√¥ H·∫•p Ban ƒê√™m</button>
        </div>

        <div class="main-content">
            <div class="simulation-card">
                <h2 class="card-title" id="simulation-title">M√¥ ph·ªèng Quang H·ª£p</h2>
                <div class="simulation-area">
                    <div class="sun" id="sun">M·∫∑t tr·ªùi</div>
                    <div class="moon" id="moon">M·∫∑t trƒÉng</div>
                    <div class="plant-container">
                        <div class="pot"></div>
                        <div class="soil"></div>
                        <div class="stem"></div>
                        <div class="leaf leaf-1"></div>
                        <!-- <div class="leaf leaf-2"></div>
                        <div class="leaf leaf-3"></div>
                        <div class="leaf leaf-4"></div>
                        <div class="leaf leaf-5"></div>
                        <div class="leaf leaf-6"></div> -->
                    </div>
                    <div class="particles" id="particles"></div>
                </div>
                
                <div class="molecules-container">
                    <div class="molecule co2">
                        <div class="molecule-icon">CO‚ÇÇ</div>
                        <div class="molecule-count" id="co2-count">6</div>
                        <div class="molecule-label">Carbon Dioxide</div>
                    </div>
                    <div class="molecule h2o">
                        <div class="molecule-icon">H‚ÇÇO</div>
                        <div class="molecule-count" id="h2o-count">6</div>
                        <div class="molecule-label">N∆∞·ªõc</div>
                    </div>
                    <div class="molecule o2">
                        <div class="molecule-icon">O‚ÇÇ</div>
                        <div class="molecule-count" id="o2-count">6</div>
                        <div class="molecule-label">Oxy</div>
                    </div>
                    <div class="molecule glucose">
                        <div class="molecule-icon">C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ</div>
                        <div class="molecule-count" id="glucose-count">1</div>
                        <div class="molecule-label">ƒê∆∞·ªùng Glucose</div>
                    </div>
                    <div class="molecule atp hidden">
                        <div class="molecule-icon">ATP</div>
                        <div class="molecule-count" id="atp-count">0</div>
                        <div class="molecule-label">NƒÉng l∆∞·ª£ng</div>
                    </div>
                </div>
            </div>

            <div class="controls-card">
                <h2 class="card-title" id="controls-title">ƒêi·ªÅu khi·ªÉn Quang h·ª£p</h2>
                <div class="controls">
                    <div class="control-group" id="light-control">
                        <div class="control-header">
                            <span class="control-label">C∆∞·ªùng ƒë·ªô √°nh s√°ng</span>
                            <span class="control-value" id="light-value">50%</span>
                        </div>
                        <div class="slider-container">
                            <div class="slider-fill light-fill" id="light-fill"></div>
                            <input type="range" id="light-intensity" min="0" max="100" value="50">
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <div class="control-header">
                            <span class="control-label">L∆∞·ª£ng CO‚ÇÇ</span>
                            <span class="control-value" id="co2-value">6</span>
                        </div>
                        <div class="slider-container">
                            <div class="slider-fill co2-fill" id="co2-fill"></div>
                            <input type="range" id="co2-amount" min="0" max="12" value="6">
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <div class="control-header">
                            <span class="control-label">L∆∞·ª£ng n∆∞·ªõc</span>
                            <span class="control-value" id="h2o-value">6</span>
                        </div>
                        <div class="slider-container">
                            <div class="slider-fill h2o-fill" id="h2o-fill"></div>
                            <input type="range" id="h2o-amount" min="0" max="12" value="6">
                        </div>
                    </div>

                    <div class="control-group hidden" id="temp-control">
                        <div class="control-header">
                            <span class="control-label">Nhi·ªát ƒë·ªô</span>
                            <span class="control-value" id="temp-value">25¬∞C</span>
                        </div>
                        <div class="slider-container">
                            <div class="slider-fill temp-fill" id="temp-fill"></div>
                            <input type="range" id="temp-amount" min="10" max="40" value="25">
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button id="start-btn" class="primary-btn">B·∫Øt ƒë·∫ßu Qu√° tr√¨nh</button>
                        <button id="reset-btn" class="secondary-btn">Thi·∫øt l·∫≠p l·∫°i</button>
                    </div>
                </div>
                
                <div class="status" id="status">
                    S·∫µn s√†ng ƒë·ªÉ b·∫Øt ƒë·∫ßu qu√° tr√¨nh quang h·ª£p. ƒêi·ªÅu ch·ªânh c√°c th√¥ng s·ªë v√† nh·∫•n "B·∫Øt ƒë·∫ßu Qu√° tr√¨nh".
                </div>
            </div>
        </div>

        <div class="info-panel">
            <h2 class="card-title" id="info-title">Qu√° tr√¨nh Quang h·ª£p</h2>
            <div class="equation" id="equation">
                6CO‚ÇÇ + 6H‚ÇÇO + √Ånh s√°ng ‚Üí C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ + 6O‚ÇÇ
            </div>
            
            <div class="process-steps" id="day-steps">
                <div class="step">
                    <div class="step-icon">‚òÄÔ∏è</div>
                    <div class="step-title">√Ånh s√°ng</div>
                    <p>C√¢y h·∫•p th·ª• nƒÉng l∆∞·ª£ng t·ª´ √°nh s√°ng m·∫∑t tr·ªùi</p>
                </div>
                <div class="step">
                    <div class="step-icon">üíß</div>
                    <div class="step-title">N∆∞·ªõc</div>
                    <p>R·ªÖ c√¢y h√∫t n∆∞·ªõc t·ª´ ƒë·∫•t</p>
                </div>
                <div class="step">
                    <div class="step-icon">üå¨Ô∏è</div>
                    <div class="step-title">CO‚ÇÇ</div>
                    <p>L√° c√¢y h·∫•p th·ª• kh√≠ CO‚ÇÇ t·ª´ kh√¥ng kh√≠</p>
                </div>
                <div class="step">
                    <div class="step-icon">üåø</div>
                    <div class="step-title">Quang h·ª£p</div>
                    <p>T·∫°o ra ƒë∆∞·ªùng glucose v√† oxy</p>
                </div>
            </div>

            <div class="process-steps hidden" id="night-steps">
                <div class="step">
                    <div class="step-icon">üåô</div>
                    <div class="step-title">Ban ƒë√™m</div>
                    <p>C√¢y ng·ª´ng quang h·ª£p, b·∫Øt ƒë·∫ßu h√¥ h·∫•p</p>
                </div>
                <div class="step">
                    <div class="step-icon">üç¨</div>
                    <div class="step-title">ƒê∆∞·ªùng Glucose</div>
                    <p>C√¢y s·ª≠ d·ª•ng ƒë∆∞·ªùng d·ª± tr·ªØ</p>
                </div>
                <div class="step">
                    <div class="step-icon">üí®</div>
                    <div class="step-title">Oxy</div>
                    <p>C√¢y ti√™u th·ª• oxy t·ª´ kh√¥ng kh√≠</p>
                </div>
                <div class="step">
                    <div class="step-icon">‚ö°</div>
                    <div class="step-title">NƒÉng l∆∞·ª£ng</div>
                    <p>T·∫°o ra nƒÉng l∆∞·ª£ng (ATP) cho c√¢y</p>
                </div>
            </div>
            
            <p id="process-description">Quang h·ª£p l√† qu√° tr√¨nh th·ª±c v·∫≠t s·ª≠ d·ª•ng nƒÉng l∆∞·ª£ng √°nh s√°ng m·∫∑t tr·ªùi ƒë·ªÉ chuy·ªÉn ƒë·ªïi carbon dioxide (CO‚ÇÇ) v√† n∆∞·ªõc (H‚ÇÇO) th√†nh ƒë∆∞·ªùng (glucose) v√† oxy (O‚ÇÇ). Qu√° tr√¨nh n√†y x·∫£y ra trong l·ª•c l·∫°p c·ªßa t·∫ø b√†o th·ª±c v·∫≠t, n∆°i ch·ª©a ch·∫•t di·ªáp l·ª•c h·∫•p th·ª• √°nh s√°ng.</p>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // L·∫•y c√°c ph·∫ßn t·ª≠ DOM
            const lightIntensity = document.getElementById('light-intensity');
            const co2Amount = document.getElementById('co2-amount');
            const h2oAmount = document.getElementById('h2o-amount');
            const tempAmount = document.getElementById('temp-amount');
            const startBtn = document.getElementById('start-btn');
            const resetBtn = document.getElementById('reset-btn');
            const dayModeBtn = document.getElementById('day-mode-btn');
            const nightModeBtn = document.getElementById('night-mode-btn');
            const status = document.getElementById('status');
            const particlesContainer = document.getElementById('particles');
            const sun = document.getElementById('sun');
            const moon = document.getElementById('moon');
            const body = document.body;
            
            // C√°c ph·∫ßn t·ª≠ c·∫ßn thay ƒë·ªïi theo ch·∫ø ƒë·ªô
            const simulationTitle = document.getElementById('simulation-title');
            const controlsTitle = document.getElementById('controls-title');
            const infoTitle = document.getElementById('info-title');
            const equation = document.getElementById('equation');
            const daySteps = document.getElementById('day-steps');
            const nightSteps = document.getElementById('night-steps');
            const processDescription = document.getElementById('process-description');
            const lightControl = document.getElementById('light-control');
            const tempControl = document.getElementById('temp-control');
            const atpMolecule = document.querySelector('.molecule.atp');
            
            // C√°c thanh tr∆∞·ª£t fill
            const lightFill = document.getElementById('light-fill');
            const co2Fill = document.getElementById('co2-fill');
            const h2oFill = document.getElementById('h2o-fill');
            const tempFill = document.getElementById('temp-fill');
            
            // ƒê·∫øm s·ªë l∆∞·ª£ng ph√¢n t·ª≠
            const co2Count = document.getElementById('co2-count');
            const h2oCount = document.getElementById('h2o-count');
            const o2Count = document.getElementById('o2-count');
            const glucoseCount = document.getElementById('glucose-count');
            const atpCount = document.getElementById('atp-count');
            
            // Gi√° tr·ªã hi·ªÉn th·ªã
            const lightValue = document.getElementById('light-value');
            const co2Value = document.getElementById('co2-value');
            const h2oValue = document.getElementById('h2o-value');
            const tempValue = document.getElementById('temp-value');
            
            // Bi·∫øn tr·∫°ng th√°i
            let isDayMode = true;
            
            // Kh·ªüi t·∫°o thanh tr∆∞·ª£t
            updateSliderFill(lightIntensity, lightFill);
            updateSliderFill(co2Amount, co2Fill);
            updateSliderFill(h2oAmount, h2oFill);
            updateSliderFill(tempAmount, tempFill);
            
            // C·∫≠p nh·∫≠t gi√° tr·ªã khi k√©o thanh tr∆∞·ª£t
            lightIntensity.addEventListener('input', function() {
                lightValue.textContent = this.value + '%';
                updateSliderFill(this, lightFill);
                updateSunIntensity(this.value);
            });
            
            co2Amount.addEventListener('input', function() {
                co2Value.textContent = this.value;
                co2Count.textContent = this.value;
                updateSliderFill(this, co2Fill);
            });
            
            h2oAmount.addEventListener('input', function() {
                h2oValue.textContent = this.value;
                h2oCount.textContent = this.value;
                updateSliderFill(this, h2oFill);
            });
            
            tempAmount.addEventListener('input', function() {
                tempValue.textContent = this.value + '¬∞C';
                updateSliderFill(this, tempFill);
            });
            
            // C·∫≠p nh·∫≠t thanh tr∆∞·ª£t fill
            function updateSliderFill(slider, fill) {
                const value = slider.value;
                const max = slider.max;
                const min = slider.min;
                fill.style.width = `${((value - min) / (max - min)) * 100}%`;
            }
            
            // C·∫≠p nh·∫≠t c∆∞·ªùng ƒë·ªô √°nh s√°ng m·∫∑t tr·ªùi
            function updateSunIntensity(value) {
                const intensity = value / 100;
                sun.style.boxShadow = `0 0 ${20 + intensity * 30}px #FF9800`;
                sun.style.opacity = 0.7 + intensity * 0.3;
            }
            
            // Chuy·ªÉn ƒë·ªïi ch·∫ø ƒë·ªô ng√†y/ƒë√™m
            dayModeBtn.addEventListener('click', function() {
                if (!isDayMode) {
                    switchToDayMode();
                }
            });
            
            nightModeBtn.addEventListener('click', function() {
                if (isDayMode) {
                    switchToNightMode();
                }
            });
            
            function switchToDayMode() {
                isDayMode = true;
                body.classList.remove('night-mode');
                dayModeBtn.classList.add('active');
                nightModeBtn.classList.remove('active');
                
                simulationTitle.textContent = "M√¥ ph·ªèng Quang H·ª£p";
                controlsTitle.textContent = "ƒêi·ªÅu khi·ªÉn Quang h·ª£p";
                infoTitle.textContent = "Qu√° tr√¨nh Quang h·ª£p";
                equation.textContent = "6CO‚ÇÇ + 6H‚ÇÇO + √Ånh s√°ng ‚Üí C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ + 6O‚ÇÇ";
                processDescription.textContent = "Quang h·ª£p l√† qu√° tr√¨nh th·ª±c v·∫≠t s·ª≠ d·ª•ng nƒÉng l∆∞·ª£ng √°nh s√°ng m·∫∑t tr·ªùi ƒë·ªÉ chuy·ªÉn ƒë·ªïi carbon dioxide (CO‚ÇÇ) v√† n∆∞·ªõc (H‚ÇÇO) th√†nh ƒë∆∞·ªùng (glucose) v√† oxy (O‚ÇÇ). Qu√° tr√¨nh n√†y x·∫£y ra trong l·ª•c l·∫°p c·ªßa t·∫ø b√†o th·ª±c v·∫≠t, n∆°i ch·ª©a ch·∫•t di·ªáp l·ª•c h·∫•p th·ª• √°nh s√°ng.";
                
                daySteps.classList.remove('hidden');
                nightSteps.classList.add('hidden');
                lightControl.classList.remove('hidden');
                tempControl.classList.add('hidden');
                atpMolecule.classList.add('hidden');
                
                startBtn.textContent = "B·∫Øt ƒë·∫ßu Quang h·ª£p";
                status.textContent = "S·∫µn s√†ng ƒë·ªÉ b·∫Øt ƒë·∫ßu qu√° tr√¨nh quang h·ª£p. ƒêi·ªÅu ch·ªânh c√°c th√¥ng s·ªë v√† nh·∫•n 'B·∫Øt ƒë·∫ßu Quang h·ª£p'.";
                status.style.background = "#E3F2FD";
                status.style.borderLeftColor = "#2196F3";
            }
            
            function switchToNightMode() {
                isDayMode = false;
                body.classList.add('night-mode');
                dayModeBtn.classList.remove('active');
                nightModeBtn.classList.add('active');
                
                simulationTitle.textContent = "M√¥ ph·ªèng H√¥ H·∫•p";
                controlsTitle.textContent = "ƒêi·ªÅu khi·ªÉn H√¥ H·∫•p";
                infoTitle.textContent = "Qu√° tr√¨nh H√¥ H·∫•p";
                equation.textContent = "C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ + 6O‚ÇÇ ‚Üí 6CO‚ÇÇ + 6H‚ÇÇO + NƒÉng l∆∞·ª£ng (ATP)";
                processDescription.textContent = "H√¥ h·∫•p l√† qu√° tr√¨nh th·ª±c v·∫≠t s·ª≠ d·ª•ng ƒë∆∞·ªùng glucose v√† oxy ƒë·ªÉ t·∫°o ra nƒÉng l∆∞·ª£ng (ATP), ƒë·ªìng th·ªùi gi·∫£i ph√≥ng carbon dioxide (CO‚ÇÇ) v√† n∆∞·ªõc (H‚ÇÇO). Qu√° tr√¨nh n√†y x·∫£y ra trong ti th·ªÉ c·ªßa t·∫ø b√†o th·ª±c v·∫≠t v√† di·ªÖn ra c·∫£ ng√†y l·∫´n ƒë√™m, nh∆∞ng r√µ r·ªát h∆°n v√†o ban ƒë√™m khi quang h·ª£p ng·ª´ng l·∫°i.";
                
                daySteps.classList.add('hidden');
                nightSteps.classList.remove('hidden');
                lightControl.classList.add('hidden');
                tempControl.classList.remove('hidden');
                atpMolecule.classList.remove('hidden');
                
                startBtn.textContent = "B·∫Øt ƒë·∫ßu H√¥ H·∫•p";
                status.textContent = "S·∫µn s√†ng ƒë·ªÉ b·∫Øt ƒë·∫ßu qu√° tr√¨nh h√¥ h·∫•p. ƒêi·ªÅu ch·ªânh c√°c th√¥ng s·ªë v√† nh·∫•n 'B·∫Øt ƒë·∫ßu H√¥ H·∫•p'.";
                status.style.background = "#1e3a5c";
                status.style.borderLeftColor = "#3b82f6";
            }
            
            // N√∫t thi·∫øt l·∫≠p l·∫°i
            resetBtn.addEventListener('click', function() {
                if (isDayMode) {
                    lightIntensity.value = 50;
                    co2Amount.value = 6;
                    h2oAmount.value = 6;
                    
                    lightValue.textContent = '50%';
                    co2Value.textContent = '6';
                    h2oValue.textContent = '6';
                    
                    co2Count.textContent = '6';
                    h2oCount.textContent = '6';
                    o2Count.textContent = '6';
                    glucoseCount.textContent = '1';
                    
                    updateSliderFill(lightIntensity, lightFill);
                    updateSliderFill(co2Amount, co2Fill);
                    updateSliderFill(h2oAmount, h2oFill);
                    updateSunIntensity(50);
                    
                    status.textContent = "Thi·∫øt l·∫≠p l·∫°i th√†nh c√¥ng. S·∫µn s√†ng ƒë·ªÉ b·∫Øt ƒë·∫ßu qu√° tr√¨nh quang h·ª£p.";
                } else {
                    tempAmount.value = 25;
                    co2Amount.value = 6;
                    h2oAmount.value = 6;
                    
                    tempValue.textContent = '25¬∞C';
                    co2Value.textContent = '6';
                    h2oValue.textContent = '6';
                    
                    co2Count.textContent = '6';
                    h2oCount.textContent = '6';
                    o2Count.textContent = '6';
                    glucoseCount.textContent = '1';
                    atpCount.textContent = '0';
                    
                    updateSliderFill(tempAmount, tempFill);
                    updateSliderFill(co2Amount, co2Fill);
                    updateSliderFill(h2oAmount, h2oFill);
                    
                    status.textContent = "Thi·∫øt l·∫≠p l·∫°i th√†nh c√¥ng. S·∫µn s√†ng ƒë·ªÉ b·∫Øt ƒë·∫ßu qu√° tr√¨nh h√¥ h·∫•p.";
                }
                
                // X√≥a t·∫•t c·∫£ c√°c h·∫°t
                particlesContainer.innerHTML = '';
            });
            
            // B·∫Øt ƒë·∫ßu qu√° tr√¨nh
            startBtn.addEventListener('click', function() {
                if (isDayMode) {
                    startPhotosynthesis();
                } else {
                    startRespiration();
                }
            });
            
            // B·∫Øt ƒë·∫ßu quang h·ª£p
            function startPhotosynthesis() {
                const light = parseInt(lightIntensity.value);
                const co2 = parseInt(co2Amount.value);
                const h2o = parseInt(h2oAmount.value);
                
                // Ki·ªÉm tra ƒëi·ªÅu ki·ªán
                if (light < 10) {
                    status.textContent = "C∆∞·ªùng ƒë·ªô √°nh s√°ng qu√° th·∫•p! C·∫ßn √≠t nh·∫•t 10% ƒë·ªÉ quang h·ª£p.";
                    status.style.background = "#FFEBEE";
                    status.style.borderLeftColor = "#F44336";
                    return;
                }
                
                if (co2 < 6) {
                    status.textContent = "Kh√¥ng ƒë·ªß CO‚ÇÇ! C·∫ßn √≠t nh·∫•t 6 ph√¢n t·ª≠ CO‚ÇÇ.";
                    status.style.background = "#FFEBEE";
                    status.style.borderLeftColor = "#F44336";
                    return;
                }
                
                if (h2o < 6) {
                    status.textContent = "Kh√¥ng ƒë·ªß n∆∞·ªõc! C·∫ßn √≠t nh·∫•t 6 ph√¢n t·ª≠ n∆∞·ªõc.";
                    status.style.background = "#FFEBEE";
                    status.style.borderLeftColor = "#F44336";
                    return;
                }
                
                status.textContent = "ƒêang th·ª±c hi·ªán quang h·ª£p...";
                status.style.background = "#E3F2FD";
                status.style.borderLeftColor = "#2196F3";
                startBtn.disabled = true;
                
                // T·∫°o hi·ªáu ·ª©ng h·∫°t
                createParticles('co2', 6, true);
                createParticles('h2o', 6, true);
                
                // M√¥ ph·ªèng qu√° tr√¨nh quang h·ª£p sau 2 gi√¢y
                setTimeout(function() {
                    // T√≠nh to√°n s·∫£n ph·∫©m d·ª±a tr√™n nguy√™n li·ªáu
                    const reactions = Math.min(Math.floor(co2 / 6), Math.floor(h2o / 6));
                    const o2Produced = reactions * 6;
                    const glucoseProduced = reactions;
                    
                    // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng
                    co2Count.textContent = co2 - (reactions * 6);
                    co2Amount.value = co2 - (reactions * 6);
                    co2Value.textContent = co2 - (reactions * 6);
                    updateSliderFill(co2Amount, co2Fill);
                    
                    h2oCount.textContent = h2o - (reactions * 6);
                    h2oAmount.value = h2o - (reactions * 6);
                    h2oValue.textContent = h2o - (reactions * 6);
                    updateSliderFill(h2oAmount, h2oFill);
                    
                    o2Count.textContent = parseInt(o2Count.textContent) + o2Produced;
                    glucoseCount.textContent = parseInt(glucoseCount.textContent) + glucoseProduced;
                    
                    // T·∫°o hi·ªáu ·ª©ng cho s·∫£n ph·∫©m
                    createParticles('o2', o2Produced, false);
                    createParticles('glucose', glucoseProduced, false);
                    
                    status.textContent = `Quang h·ª£p ho√†n t·∫•t! T·∫°o ra ${o2Produced} ph√¢n t·ª≠ O‚ÇÇ v√† ${glucoseProduced} ph√¢n t·ª≠ ƒë∆∞·ªùng glucose.`;
                    status.style.background = "#E8F5E9";
                    status.style.borderLeftColor = "#4CAF50";
                    startBtn.disabled = false;
                }, 2000);
            }
            
            // B·∫Øt ƒë·∫ßu h√¥ h·∫•p
            function startRespiration() {
                const temp = parseInt(tempAmount.value);
                const glucose = parseInt(glucoseCount.textContent);
                const o2 = parseInt(o2Count.textContent);
                
                // Ki·ªÉm tra ƒëi·ªÅu ki·ªán
                if (temp < 15) {
                    status.textContent = "Nhi·ªát ƒë·ªô qu√° th·∫•p! C·∫ßn √≠t nh·∫•t 15¬∞C ƒë·ªÉ h√¥ h·∫•p hi·ªáu qu·∫£.";
                    status.style.background = "#FFEBEE";
                    status.style.borderLeftColor = "#F44336";
                    return;
                }
                
                if (temp > 35) {
                    status.textContent = "Nhi·ªát ƒë·ªô qu√° cao! H√¥ h·∫•p b·ªã ·ª©c ch·∫ø tr√™n 35¬∞C.";
                    status.style.background = "#FFEBEE";
                    status.style.borderLeftColor = "#F44336";
                    return;
                }
                
                if (glucose < 1) {
                    status.textContent = "Kh√¥ng ƒë·ªß glucose! C·∫ßn √≠t nh·∫•t 1 ph√¢n t·ª≠ glucose.";
                    status.style.background = "##75163F";
                    status.style.borderLeftColor = "#F44336";
                    return;
                }
                
                if (o2 < 6) {
                    status.textContent = "Kh√¥ng ƒë·ªß oxy! C·∫ßn √≠t nh·∫•t 6 ph√¢n t·ª≠ O‚ÇÇ.";
                    status.style.background = "#FFEBEE";
                    status.style.borderLeftColor = "#F44336";
                    return;
                }
                
                status.textContent = "ƒêang th·ª±c hi·ªán h√¥ h·∫•p...";
                status.style.background = "#1e3a5c";
                status.style.borderLeftColor = "#3b82f6";
                startBtn.disabled = true;
                
                // T·∫°o hi·ªáu ·ª©ng h·∫°t
                createParticles('glucose', 1, true);
                createParticles('o2', 6, true);
                
                // M√¥ ph·ªèng qu√° tr√¨nh h√¥ h·∫•p sau 2 gi√¢y
                setTimeout(function() {
                    // T√≠nh to√°n s·∫£n ph·∫©m d·ª±a tr√™n nguy√™n li·ªáu
                    const reactions = Math.min(Math.floor(glucose), Math.floor(o2 / 6));
                    const co2Produced = reactions * 6;
                    const h2oProduced = reactions * 6;
                    const atpProduced = reactions * 36; // Gi·∫£ ƒë·ªãnh: 1 glucose t·∫°o ra ~36 ATP
                    
                    // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng
                    glucoseCount.textContent = glucose - reactions;
                    o2Count.textContent = o2 - (reactions * 6);
                    
                    co2Count.textContent = parseInt(co2Count.textContent) + co2Produced;
                    co2Amount.value = parseInt(co2Count.textContent);
                    co2Value.textContent = parseInt(co2Count.textContent);
                    updateSliderFill(co2Amount, co2Fill);
                    
                    h2oCount.textContent = parseInt(h2oCount.textContent) + h2oProduced;
                    h2oAmount.value = parseInt(h2oCount.textContent);
                    h2oValue.textContent = parseInt(h2oCount.textContent);
                    updateSliderFill(h2oAmount, h2oFill);
                    
                    atpCount.textContent = parseInt(atpCount.textContent) + atpProduced;
                    
                    // T·∫°o hi·ªáu ·ª©ng cho s·∫£n ph·∫©m
                    createParticles('co2', co2Produced, false);
                    createParticles('h2o', h2oProduced, false);
                    createParticles('atp', atpProduced, false);
                    
                    status.textContent = `H√¥ h·∫•p ho√†n t·∫•t! T·∫°o ra ${co2Produced} ph√¢n t·ª≠ CO‚ÇÇ, ${h2oProduced} ph√¢n t·ª≠ n∆∞·ªõc v√† ${atpProduced} ATP.`;
                    status.style.background = "#1e3a5c";
                    status.style.borderLeftColor = "#3b82f6";
                    startBtn.disabled = false;
                }, 2000);
            }
            
            // T·∫°o hi·ªáu ·ª©ng h·∫°t
            function createParticles(type, count, isInput) {
                const colors = {
                    'co2': '#607d8b',
                    'h2o': '#2196f3',
                    'o2': '#f44336',
                    'glucose': '#ff9800',
                    'atp': '#9c27b0'
                };
                
                const sizes = {
                    'co2': '12px',
                    'h2o': '14px',
                    'o2': '10px',
                    'glucose': '16px',
                    'atp': '10px'
                };
                
                for (let i = 0; i < count; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.backgroundColor = colors[type];
                    particle.style.width = sizes[type];
                    particle.style.height = sizes[type];
                    
                    // V·ªã tr√≠ ban ƒë·∫ßu v√† ƒëi·ªÉm ƒë·∫øn
                    let startX, startY, targetX, targetY;
                    
                    if (isInput) {
                        // H·∫°t ƒëi v√†o c√¢y (nguy√™n li·ªáu)
                        if (type === 'co2') {
                            startX = 10 + Math.random() * 30; // B√™n tr√°i
                        } else if (type === 'h2o') {
                            startX = 60 + Math.random() * 30; // B√™n ph·∫£i
                        } else if (type === 'glucose' || type === 'o2') {
                            startX = 20 + Math.random() * 60; // Ng·∫´u nhi√™n
                        } else if (type === 'atp') {
                            startX = 20 + Math.random() * 60;
                        }
                        startY = 100;
                        
                        // ƒêi v√†o c√¢y
                        targetX = 45 + (Math.random() - 0.5) * 10;
                        targetY = 40 + (Math.random() - 0.5) * 10;
                    } else {
                        // H·∫°t ƒëi ra t·ª´ c√¢y (s·∫£n ph·∫©m)
                        startX = 45 + (Math.random() - 0.5) * 10;
                        startY = 40 + (Math.random() - 0.5) * 10;
                        
                        // ƒêi ra t·ª´ c√¢y
                        if (type === 'o2') {
                            targetX = startX + (Math.random() - 0.5) * 40;
                            targetY = startY - 30 - Math.random() * 20;
                        } else if (type === 'glucose') {
                            targetX = 45 + (Math.random() - 0.5) * 10;
                            targetY = 80 + Math.random() * 15;
                        } else if (type === 'co2') {
                            targetX = 10 + Math.random() * 30;
                            targetY = 100;
                        } else if (type === 'h2o') {
                            targetX = 60 + Math.random() * 30;
                            targetY = 100;
                        } else if (type === 'atp') {
                            targetX = 45 + (Math.random() - 0.5) * 10;
                            targetY = 80 + Math.random() * 15;
                        }
                    }
                    
                    particle.style.left = startX + '%';
                    particle.style.top = startY + '%';
                    
                    particlesContainer.appendChild(particle);
                    
                    // Di chuy·ªÉn h·∫°t
                    setTimeout(function() {
                        particle.style.transition = 'all 1.5s ease-in-out';
                        particle.style.left = targetX + '%';
                        particle.style.top = targetY + '%';
                        particle.style.opacity = '0';
                        
                        // X√≥a h·∫°t sau khi di chuy·ªÉn
                        setTimeout(function() {
                            if (particle.parentNode) {
                                particle.parentNode.removeChild(particle);
                            }
                        }, 1500);
                    }, 100 * i);
                }
            }
        });
    </script>
</body>
</html>
